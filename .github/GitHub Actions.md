# GitHub Actions è‡ªåŠ¨åŒ–å‘å¸ƒç³»ç»Ÿ

æ¬¢è¿ä½¿ç”¨ Vlinder æ‰©å±•çš„è‡ªåŠ¨åŒ–å‘å¸ƒç³»ç»Ÿï¼æœ¬ç³»ç»Ÿå¯ä»¥è‡ªåŠ¨æ„å»ºã€æµ‹è¯•å’Œå‘å¸ƒä½ çš„ VS Code æ‰©å±•ã€‚

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸš€ [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICKSTART.md)
**é€‚åˆï¼š** ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ç”¨æˆ·

å¿«é€Ÿé…ç½®å’Œå‘å¸ƒä½ çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼ŒåŒ…å«ï¼š
- åŸºç¡€å‘å¸ƒï¼ˆä»… GitHub Releaseï¼‰
- é«˜çº§å‘å¸ƒï¼ˆåŒ…å« Marketplaceï¼‰
- æµ‹è¯•ç‰ˆæœ¬å‘å¸ƒ
- å¸¸è§é—®é¢˜è§£ç­”

ğŸ‘‰ **[ç«‹å³å¼€å§‹](QUICKSTART.md)**

---

### ğŸ”§ [Marketplace é…ç½®æŒ‡å—](MARKETPLACE_SETUP.md)
**é€‚åˆï¼š** éœ€è¦å‘å¸ƒåˆ° VS Code Marketplace çš„ç”¨æˆ·

è¯¦ç»†çš„é…ç½®æ­¥éª¤ï¼ŒåŒ…å«ï¼š
- è·å– VS Code Marketplace Token
- è·å– Open VSX Token
- é…ç½® GitHub Secrets
- æµ‹è¯•å‘å¸ƒæµç¨‹
- æ•…éšœæ’æŸ¥

ğŸ‘‰ **[æŸ¥çœ‹è¯¦ç»†é…ç½®](MARKETPLACE_SETUP.md)**

---

### ğŸ“– [å·¥ä½œæµè¯´æ˜æ–‡æ¡£](workflows/README.md)
**é€‚åˆï¼š** éœ€è¦äº†è§£æŠ€æœ¯ç»†èŠ‚çš„ç”¨æˆ·

å·¥ä½œæµçš„è¯¦ç»†è¯´æ˜ï¼ŒåŒ…å«ï¼š
- CI å·¥ä½œæµè¯´æ˜
- Release å·¥ä½œæµè¯´æ˜
- æ„å»ºæ­¥éª¤è¯¦è§£
- è‡ªå®šä¹‰é…ç½®
- æ•…éšœæ’æŸ¥

ğŸ‘‰ **[æŸ¥çœ‹å·¥ä½œæµæ–‡æ¡£](workflows/README.md)**

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… æŒç»­é›†æˆ (CI)

- ğŸ” è‡ªåŠ¨ä»£ç æ£€æŸ¥å’Œæµ‹è¯•
- ğŸ—ï¸ æ¯æ¬¡æ¨é€è‡ªåŠ¨æ„å»º
- ğŸ“¦ ç”Ÿæˆ VSIX æ„å»ºäº§ç‰©
- âš¡ ä½¿ç”¨ç¼“å­˜åŠ é€Ÿæ„å»º

### ğŸš€ è‡ªåŠ¨å‘å¸ƒ (Release)

- ğŸ“¦ è‡ªåŠ¨æ‰“åŒ… VSIX æ–‡ä»¶
- ğŸ·ï¸ åˆ›å»º GitHub Release
- ğŸŒ å‘å¸ƒåˆ° VS Code Marketplace
- ğŸ”“ å‘å¸ƒåˆ° Open VSX Registry
- ğŸ“ è‡ªåŠ¨ç”Ÿæˆå‘å¸ƒè¯´æ˜

---

## ğŸ”„ å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ¨é€ä»£ç åˆ° GitHub                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚                 â”‚                     â”‚
                      â–¼                 â–¼                     â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  æ¨é€åˆ°åˆ†æ”¯    â”‚  â”‚  åˆ›å»º PR     â”‚   â”‚  æ¨é€æ ‡ç­¾    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                 â”‚                   â”‚
                      â–¼                 â–¼                   â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
              â”‚      è§¦å‘ CI å·¥ä½œæµ          â”‚              â”‚
              â”‚  - ç±»å‹æ£€æŸ¥                  â”‚              â”‚
              â”‚  - ä»£ç æ£€æŸ¥                  â”‚              â”‚
              â”‚  - è¿è¡Œæµ‹è¯•                  â”‚              â”‚
              â”‚  - æ„å»º VSIX                â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                                            â”‚
                                                            â–¼
                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                  â”‚ è§¦å‘ Release     â”‚
                                                  â”‚ å·¥ä½œæµ           â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚                                    â”‚                                â”‚
                      â–¼                                    â–¼                                â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ åˆ›å»º GitHub      â”‚              â”‚ å‘å¸ƒåˆ° VS Code       â”‚         â”‚ å‘å¸ƒåˆ° Open VSX     â”‚
            â”‚ Release          â”‚              â”‚ Marketplace          â”‚         â”‚ Registry            â”‚
            â”‚ + ä¸Šä¼  VSIX      â”‚              â”‚ (æ­£å¼ç‰ˆæœ¬)           â”‚         â”‚ (æ­£å¼ç‰ˆæœ¬)          â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ å¿«é€Ÿå‚è€ƒ

### å‘å¸ƒæ­£å¼ç‰ˆæœ¬

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
vim extension/package.json  # ä¿®æ”¹ version å­—æ®µ

# 2. æäº¤æ›´æ”¹
git add extension/package.json
git commit -m "chore: bump version to 3.7.22"

# 3. åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag v3.7.22
git push origin main
git push origin v3.7.22
```

### å‘å¸ƒæµ‹è¯•ç‰ˆæœ¬

```bash
# Beta ç‰ˆæœ¬ï¼ˆä¸ä¼šå‘å¸ƒåˆ° Marketplaceï¼‰
git tag v3.7.22-beta.1
git push origin v3.7.22-beta.1

# Alpha ç‰ˆæœ¬ï¼ˆä¸ä¼šå‘å¸ƒåˆ° Marketplaceï¼‰
git tag v3.7.22-alpha.1
git push origin v3.7.22-alpha.1
```

### æ‰‹åŠ¨è§¦å‘å‘å¸ƒ

1. è®¿é—® **Actions** é¡µé¢
2. é€‰æ‹© **Release VSIX** å·¥ä½œæµ
3. ç‚¹å‡» **Run workflow**
4. é…ç½®é€‰é¡¹å¹¶è¿è¡Œ

---

## ğŸ” å¿…éœ€çš„ Secrets

### åŸºç¡€å‘å¸ƒï¼ˆGitHub Releaseï¼‰

æ— éœ€é…ç½®ï¼Œå¼€ç®±å³ç”¨ï¼

### é«˜çº§å‘å¸ƒï¼ˆMarketplaceï¼‰

éœ€è¦åœ¨ GitHub Settings â†’ Secrets ä¸­é…ç½®ï¼š

| Secret åç§° | ç”¨é€” | è·å–æ–¹å¼ |
|------------|------|---------|
| `VSCE_TOKEN` | VS Code Marketplace å‘å¸ƒ | [é…ç½®æŒ‡å—](MARKETPLACE_SETUP.md#1-è·å–-vs-code-marketplace-token) |
| `OVSX_TOKEN` | Open VSX Registry å‘å¸ƒ | [é…ç½®æŒ‡å—](MARKETPLACE_SETUP.md#2-è·å–-open-vsx-token) |

---

## ğŸ¨ ç‰ˆæœ¬å‘½åè§„èŒƒ

| ç‰ˆæœ¬ç±»å‹ | æ ‡ç­¾æ ¼å¼ | ç¤ºä¾‹ | å‘å¸ƒåˆ° Marketplace |
|---------|---------|------|-------------------|
| æ­£å¼ç‰ˆæœ¬ | `vX.Y.Z` | `v3.7.22` | âœ… æ˜¯ |
| Beta ç‰ˆæœ¬ | `vX.Y.Z-beta.N` | `v3.7.22-beta.1` | âŒ å¦ |
| Alpha ç‰ˆæœ¬ | `vX.Y.Z-alpha.N` | `v3.7.22-alpha.1` | âŒ å¦ |

---

## ğŸ“Š å·¥ä½œæµçŠ¶æ€

æŸ¥çœ‹å½“å‰å·¥ä½œæµçŠ¶æ€ï¼š

[![CI](../../actions/workflows/ci.yml/badge.svg)](../../actions/workflows/ci.yml)
[![Release](../../actions/workflows/release.yml/badge.svg)](../../actions/workflows/release.yml)

---

## ğŸ› ï¸ æœ¬åœ°æµ‹è¯•

åœ¨æ¨é€å‰ï¼Œå»ºè®®å…ˆåœ¨æœ¬åœ°æµ‹è¯•ï¼š

```bash
cd extension

# å®‰è£…ä¾èµ–
pnpm install:all

# æ„å»º webview
pnpm run build:webview

# ç±»å‹æ£€æŸ¥
pnpm run check-types

# ä»£ç æ£€æŸ¥
pnpm run lint

# è¿è¡Œæµ‹è¯•
pnpm run test

# æ‰“åŒ…æ‰©å±•
pnpm run package

# æ„å»º VSIX
pnpm run build
```

---

## ğŸ“ˆ å‘å¸ƒåæ£€æŸ¥

å‘å¸ƒå®Œæˆåï¼Œè¯·æ£€æŸ¥ï¼š

- [ ] GitHub Release å·²åˆ›å»º
- [ ] VSIX æ–‡ä»¶å·²ä¸Šä¼ åˆ° Release
- [ ] ï¼ˆå¦‚é€‚ç”¨ï¼‰æ‰©å±•å·²å‡ºç°åœ¨ [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=QuickerStudio.vlinder)
- [ ] ï¼ˆå¦‚é€‚ç”¨ï¼‰æ‰©å±•å·²å‡ºç°åœ¨ [Open VSX](https://open-vsx.org/extension/QuickerStudio/vlinder)
- [ ] ç‰ˆæœ¬å·æ­£ç¡®
- [ ] å®‰è£…æµ‹è¯•é€šè¿‡

---

## ğŸ†˜ è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº

- ğŸ“– [å¿«é€Ÿå¼€å§‹](QUICKSTART.md) - æ–°æ‰‹å…¥é—¨
- ğŸ”§ [Marketplace é…ç½®](MARKETPLACE_SETUP.md) - è¯¦ç»†é…ç½®æ­¥éª¤
- ğŸ“š [å·¥ä½œæµæ–‡æ¡£](workflows/README.md) - æŠ€æœ¯ç»†èŠ‚

### å¤–éƒ¨èµ„æº

- [VS Code æ‰©å±•å‘å¸ƒæŒ‡å—](https://code.visualstudio.com/api/working-with-extensions/publishing-extension)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [vsce CLI æ–‡æ¡£](https://github.com/microsoft/vscode-vsce)
- [Open VSX æ–‡æ¡£](https://github.com/eclipse/openvsx/wiki)

### é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹ [Actions æ—¥å¿—](../../actions) äº†è§£è¯¦ç»†é”™è¯¯ä¿¡æ¯
2. å‚è€ƒ [å¸¸è§é—®é¢˜](QUICKSTART.md#-å¸¸è§é—®é¢˜)
3. æäº¤ [Issue](../../issues/new)

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

å‡†å¤‡å¥½äº†å—ï¼Ÿ

ğŸ‘‰ **[æŸ¥çœ‹å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICKSTART.md)** å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡å‘å¸ƒï¼

---

**Made with â¤ï¸ for Vlinder**

